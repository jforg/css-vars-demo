<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Finished! 完成 | CSS グリッドとカスタム・プロパティと JavaScript を使った、スライダーで拡大縮小できる画像一覧</title>
<link rel="stylesheet" href="common.css" title="固定ヘッダーとナビゲーションを表示">
<link rel="alternate stylesheet" href="screenshot.css" title="固定ヘッダーとナビゲーションを非表示">
<style>
:root {
  --large-image-size: 100px;
  --small-image-size: 50px;
  --grid-min-size: var(--large-image-size);
  @media (width < 640px) {
    --grid-min-size: var(--small-image-size);
  }
}
input[type="range"] {
  vertical-align: middle;
}
ul {
  display: grid;
  gap: 2px;
  grid-template-columns: repeat(auto-fill, minmax(var(--grid-min-size, 100px), 1fr));
  padding: 0;
  list-style: none;
}
img {
  max-width: 100%;
  width: auto;
  height: auto;
  vertical-align: bottom;
}
</style>
<hgroup>
  <h1>スライダーで拡大縮小できる画像一覧を作る</h1>
  <p>Finished! 完成</p>
</hgroup>
<form>
  <label>画像の最小幅:
    <input type="range" min="20" max="240" value="100" id="slider">
  </label>
  <output id="monitor">100px</output>
</form>
<ul id="thumbnails">
  <li><img alt="サンプル画像 1" src="https://picsum.photos/480?random=1" height="240" width="240"></li>
  <li><img alt="サンプル画像 2" src="https://picsum.photos/480?random=2" height="240" width="240"></li>
  <li><img alt="サンプル画像 3" src="https://picsum.photos/480?random=3" height="240" width="240"></li>
  <li><img alt="サンプル画像 4" src="https://picsum.photos/480?random=4" height="240" width="240"></li>
  <li><img alt="サンプル画像 5" src="https://picsum.photos/480?random=5" height="240" width="240"></li>
  <li><img alt="サンプル画像 6" src="https://picsum.photos/480?random=6" height="240" width="240"></li>
  <li><img alt="サンプル画像 7" src="https://picsum.photos/480?random=7" height="240" width="240"></li>
  <li><img alt="サンプル画像 8" src="https://picsum.photos/480?random=8" height="240" width="240"></li>
  <li><img alt="サンプル画像 9" src="https://picsum.photos/480?random=9" height="240" width="240"></li>
  <li><img alt="サンプル画像 10" src="https://picsum.photos/480?random=10" height="240" width="240"></li>
  <li><img alt="サンプル画像 11" src="https://picsum.photos/480?random=11" height="240" width="240"></li>
  <li><img alt="サンプル画像 12" src="https://picsum.photos/480?random=12" height="240" width="240"></li>
  <li><img alt="サンプル画像 13" src="https://picsum.photos/480?random=13" height="240" width="240"></li>
  <li><img alt="サンプル画像 14" src="https://picsum.photos/480?random=14" height="240" width="240"></li>
  <li><img alt="サンプル画像 15" src="https://picsum.photos/480?random=15" height="240" width="240"></li>
  <li><img alt="サンプル画像 16" src="https://picsum.photos/480?random=16" height="240" width="240"></li>
  <li><img alt="サンプル画像 17" src="https://picsum.photos/480?random=17" height="240" width="240"></li>
  <li><img alt="サンプル画像 18" src="https://picsum.photos/480?random=18" height="240" width="240"></li>
  <li><img alt="サンプル画像 19" src="https://picsum.photos/480?random=19" height="240" width="240"></li>
  <li><img alt="サンプル画像 20" src="https://picsum.photos/480?random=20" height="240" width="240"></li>
</ul>
<nav class="paging">
  <ul class="paging-items">
    <li class="paging-prev"><a href="step6.html">Step 6. に戻る</a></li>
  </ul>
</nav>
<script>
const propName = "--grid-min-size";
const slider = document.getElementById("slider");
const monitor = document.getElementById("monitor");
const thumbnails = document.getElementById("thumbnails");
// 初期化処理
const root = document.documentElement;
const styles = getComputedStyle(root);
const initial = styles.getPropertyValue(propName);
const integer = parseInt(initial);
slider.value = integer;
monitor.textContent = initial;
// スライダー範囲の調整
if (window.matchMedia("(width < 640px)").matches) {
  slider.max = 120;
}
// スライダーが変更されたらその値で
// カスタム・プロパティを設定／更新
slider.addEventListener("input", (e) => {
  const propValue = `${e.target.value}px`;
  thumbnails.style.setProperty(propName, propValue);
  monitor.textContent = propValue;
});
</script>
